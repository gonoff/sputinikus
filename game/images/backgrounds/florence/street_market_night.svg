<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1920 1080">
  <defs>
    <!-- Night sky gradient -->
    <linearGradient id="nightSky" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#0a0a1a"/>
      <stop offset="100%" style="stop-color:#1a1a2a"/>
    </linearGradient>

    <!-- Building gradients (darker) -->
    <linearGradient id="buildingWarm" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#3a2a20"/>
      <stop offset="100%" style="stop-color:#2a1a10"/>
    </linearGradient>
    <linearGradient id="buildingCool" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#2a2a30"/>
      <stop offset="100%" style="stop-color:#1a1a20"/>
    </linearGradient>

    <!-- Torch/lantern glow -->
    <radialGradient id="torchGlow" cx="50%" cy="50%" r="50%">
      <stop offset="0%" style="stop-color:#ffa040;stop-opacity:0.8"/>
      <stop offset="50%" style="stop-color:#ff6020;stop-opacity:0.3"/>
      <stop offset="100%" style="stop-color:#ff4000;stop-opacity:0"/>
    </radialGradient>

    <!-- Cobblestone pattern (darker) -->
    <pattern id="cobblestone" x="0" y="0" width="60" height="40" patternUnits="userSpaceOnUse">
      <rect width="60" height="40" fill="#2a2020"/>
      <ellipse cx="15" cy="10" rx="12" ry="8" fill="#1a1515"/>
      <ellipse cx="45" cy="10" rx="12" ry="8" fill="#3a2a2a"/>
      <ellipse cx="30" cy="30" rx="12" ry="8" fill="#2a1a1a"/>
      <ellipse cx="0" cy="30" rx="12" ry="8" fill="#1a1515"/>
      <ellipse cx="60" cy="30" rx="12" ry="8" fill="#1a1515"/>
    </pattern>

    <filter id="shadow" x="-10%" y="-10%" width="120%" height="120%">
      <feDropShadow dx="5" dy="8" stdDeviation="5" flood-color="#000" flood-opacity="0.6"/>
    </filter>

    <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur stdDeviation="8" result="blur"/>
      <feMerge>
        <feMergeNode in="blur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  </defs>

  <!-- Night sky -->
  <rect width="1920" height="500" fill="url(#nightSky)"/>

  <!-- Stars -->
  <g fill="#ffffff">
    <circle cx="150" cy="80" r="2" opacity="0.8"/>
    <circle cx="300" cy="150" r="1.5" opacity="0.6"/>
    <circle cx="500" cy="60" r="2" opacity="0.9"/>
    <circle cx="700" cy="120" r="1" opacity="0.5"/>
    <circle cx="900" cy="40" r="2.5" opacity="0.8"/>
    <circle cx="1100" cy="100" r="1.5" opacity="0.7"/>
    <circle cx="1300" cy="70" r="2" opacity="0.6"/>
    <circle cx="1500" cy="130" r="1" opacity="0.5"/>
    <circle cx="1700" cy="50" r="2" opacity="0.8"/>
    <circle cx="1850" cy="90" r="1.5" opacity="0.7"/>
  </g>

  <!-- Moon -->
  <circle cx="1700" cy="120" r="50" fill="#f5f0e0" opacity="0.9"/>
  <circle cx="1680" cy="110" r="50" fill="url(#nightSky)"/>

  <!-- Distant buildings silhouette -->
  <g fill="#0a0a15" opacity="0.9">
    <rect x="0" y="150" width="200" height="350"/>
    <rect x="220" y="180" width="150" height="320"/>
    <rect x="400" y="120" width="180" height="380"/>
    <rect x="1400" y="140" width="200" height="360"/>
    <rect x="1620" y="170" width="180" height="330"/>
    <ellipse cx="960" cy="200" rx="120" ry="80"/>
    <rect x="900" y="200" width="120" height="150"/>
  </g>

  <!-- Main left building -->
  <g filter="url(#shadow)">
    <rect x="-50" y="100" width="450" height="980" fill="url(#buildingWarm)"/>
    <!-- Windows (some lit) -->
    <g>
      <rect x="50" y="150" width="80" height="120" rx="5" fill="#1a1010"/>
      <rect x="50" y="150" width="80" height="120" rx="5" fill="#ffa040" opacity="0.3"/>
      <rect x="180" y="150" width="80" height="120" rx="5" fill="#1a1010"/>
      <rect x="310" y="150" width="80" height="120" rx="5" fill="#1a1010"/>
      <rect x="310" y="150" width="80" height="120" rx="5" fill="#ffa040" opacity="0.2"/>
      <rect x="50" y="320" width="80" height="120" rx="5" fill="#1a1010"/>
      <rect x="180" y="320" width="80" height="120" rx="5" fill="#1a1010"/>
      <rect x="180" y="320" width="80" height="120" rx="5" fill="#ffa040" opacity="0.25"/>
    </g>
    <!-- Overhanging floor -->
    <rect x="-50" y="480" width="500" height="600" fill="#1a1008"/>
    <rect x="-50" y="475" width="500" height="20" fill="#2a1a10"/>
  </g>

  <!-- Main right building -->
  <g filter="url(#shadow)">
    <rect x="1520" y="80" width="450" height="1000" fill="url(#buildingCool)"/>
    <g>
      <rect x="1560" y="130" width="70" height="100" rx="5" fill="#0a0a10"/>
      <rect x="1680" y="130" width="70" height="100" rx="5" fill="#0a0a10"/>
      <rect x="1680" y="130" width="70" height="100" rx="5" fill="#ffa040" opacity="0.2"/>
    </g>
    <rect x="1470" y="450" width="500" height="630" fill="#15151a"/>
    <rect x="1470" y="445" width="500" height="20" fill="#2a2a30"/>
  </g>

  <!-- Street/ground -->
  <rect x="0" y="650" width="1920" height="430" fill="url(#cobblestone)"/>

  <!-- Ground shadows -->
  <rect x="0" y="650" width="500" height="430" fill="rgba(0,0,0,0.4)"/>
  <rect x="1450" y="650" width="470" height="430" fill="rgba(0,0,0,0.35)"/>

  <!-- TORCHES AND LANTERNS -->
  <!-- Left wall torch -->
  <g>
    <ellipse cx="380" cy="550" rx="80" ry="100" fill="url(#torchGlow)" filter="url(#glow)"/>
    <rect x="370" y="520" width="20" height="50" fill="#4a3a2a"/>
    <ellipse cx="380" cy="515" rx="15" ry="20" fill="#ff6020"/>
    <ellipse cx="380" cy="510" rx="8" ry="12" fill="#ffff80" opacity="0.8"/>
  </g>

  <!-- Right wall torch -->
  <g>
    <ellipse cx="1540" cy="530" rx="80" ry="100" fill="url(#torchGlow)" filter="url(#glow)"/>
    <rect x="1530" y="500" width="20" height="50" fill="#4a3a2a"/>
    <ellipse cx="1540" cy="495" rx="15" ry="20" fill="#ff6020"/>
    <ellipse cx="1540" cy="490" rx="8" ry="12" fill="#ffff80" opacity="0.8"/>
  </g>

  <!-- Hanging lantern center -->
  <g>
    <ellipse cx="960" cy="600" rx="120" ry="150" fill="url(#torchGlow)" filter="url(#glow)" opacity="0.7"/>
    <rect x="945" y="550" width="30" height="50" fill="#3a3a3a"/>
    <rect x="940" y="540" width="40" height="15" fill="#5a5a5a"/>
    <ellipse cx="960" cy="575" rx="12" ry="15" fill="#ffa040"/>
    <line x1="960" y1="520" x2="960" y2="400" stroke="#3a3a3a" stroke-width="3"/>
  </g>

  <!-- Market stalls (closed/covered) -->
  <g filter="url(#shadow)">
    <rect x="500" y="750" width="200" height="150" fill="#2a1a10"/>
    <path d="M480 750 L720 750 L700 700 L500 700 Z" fill="#3a1a15"/>
    <!-- Covered with cloth -->
    <rect x="490" y="760" width="220" height="130" fill="#4a3a30" opacity="0.8"/>
  </g>

  <g filter="url(#shadow)">
    <rect x="850" y="780" width="220" height="130" fill="#1a1008"/>
    <path d="M830 780 L1090 780 L1070 720 L850 720 Z" fill="#15250a"/>
    <rect x="840" y="790" width="240" height="110" fill="#3a3a30" opacity="0.8"/>
  </g>

  <g filter="url(#shadow)">
    <rect x="1200" y="760" width="180" height="140" fill="#1a1510"/>
    <path d="M1180 760 L1400 760 L1380 700 L1200 700 Z" fill="#2a2a20"/>
    <rect x="1190" y="770" width="200" height="120" fill="#4a4030" opacity="0.8"/>
  </g>

  <!-- Light pools on ground from torches -->
  <ellipse cx="380" cy="750" rx="150" ry="60" fill="#ffa040" opacity="0.1"/>
  <ellipse cx="1540" cy="750" rx="150" ry="60" fill="#ffa040" opacity="0.1"/>
  <ellipse cx="960" cy="800" rx="200" ry="80" fill="#ffa040" opacity="0.08"/>

  <!-- Cat silhouette on rooftop -->
  <g fill="#0a0a0a">
    <ellipse cx="1550" cy="440" rx="20" ry="12"/>
    <ellipse cx="1535" cy="432" rx="8" ry="10"/>
    <path d="M1530 425 L1525 415 L1535 422"/>
    <path d="M1540 425 L1545 415 L1535 422"/>
    <!-- Eyes -->
    <circle cx="1532" cy="432" r="2" fill="#40ff40"/>
    <circle cx="1538" cy="432" r="2" fill="#40ff40"/>
  </g>

  <!-- Night mist -->
  <rect x="0" y="800" width="1920" height="280" fill="#1a1a2a" opacity="0.2"/>
</svg>
